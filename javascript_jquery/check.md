ä»¥ä¸‹ã¯ãƒãƒ£ãƒƒãƒˆgptã«ã‚ˆã‚‹JavaScriptã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®éš›ã«è€ƒæ…®ã™ã¹ãã“ã¨

# ğŸ§  å®Ÿå‹™ã§ä½¿ãˆã‚‹ JavaScript ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

> **ç›®çš„:**
> å®Ÿå‹™ã§ã€Œå®‰å…¨ãƒ»é«˜é€Ÿãƒ»ä¿å®ˆã—ã‚„ã™ã„ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ããŸã‚ã®ç·åˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã€‚
> Node.jsãƒ»ãƒ–ãƒ©ã‚¦ã‚¶ä¸¡æ–¹ã‚’æƒ³å®šã€‚

---

## ğŸ§© 1. ãƒ¡ãƒ¢ãƒªç®¡ç†ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

### âœ… æ°—ã‚’ã¤ã‘ã‚‹ãƒã‚¤ãƒ³ãƒˆ

* ä¸å¿…è¦ãªé…åˆ—ã‚³ãƒ”ãƒ¼ãƒ»`ON.stringify()`ã®ä¹±ç”¨ã‚’é¿ã‘ã‚‹
* å·¨å¤§ãƒ‡ãƒ¼ã‚¿ï¼ˆbase64, ç”»åƒ, ãƒ­ã‚°ãªã©ï¼‰ã¯ãƒ¡ãƒ¢ãƒªã«ä¿æŒã—ãªã„
* `forEach`ã‚ˆã‚Š`for...of`ã®æ–¹ãŒé«˜é€Ÿãªå ´åˆã‚‚ã‚ã‚‹
* ä¸è¦ã«ãªã£ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯`null`ä»£å…¥ã§æ˜ç¤ºçš„ã«é–‹æ”¾
* Reactãªã©ã§ã¯å†ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’æ¸›ã‚‰ã™ï¼ˆ`useMemo`, `useCallback`ï¼‰

```
// âŒ æ‚ªã„ä¾‹ï¼šç„¡é§„ãªã‚³ãƒ”ãƒ¼
const newArr = [...arr].map(x => x * 2);

// âœ… è‰¯ã„ä¾‹
const newArr = arr.map(x => x * 2);
```

```
// âŒ æ‚ªã„ä¾‹ï¼šæ·±ã„ã‚³ãƒ”ãƒ¼ã« stringify ã‚’ä½¿ã†
const clone = JSON.parse(JSON.stringify(obj));

// âœ… è‰¯ã„ä¾‹
const clone = structuredClone(obj);
```

### âš ï¸ è½ã¨ã—ç©´

* `JSON.stringify()`ã¯æ—¥ä»˜ã‚„é–¢æ•°ã‚’æ¶ˆã™
* æ¯ãƒ•ãƒ¬ãƒ¼ãƒ ã”ã¨ã«æ–°é…åˆ—ç”Ÿæˆã™ã‚‹ã¨GCå¤šç™º
* base64æ–‡å­—åˆ—ã‚’ãƒ¡ãƒ¢ãƒªã«ä¿æŒã™ã‚‹ã¨ãƒ’ãƒ¼ãƒ—é€¼è¿«

---

## âš™ï¸ 2. éåŒæœŸãƒ»Promiseãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### âœ… ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

* `await`ã‚’å¿˜ã‚Œãªã„ï¼ˆ`Promise`ã¯æ˜ç¤ºçš„ã«è§£æ±ºï¼‰
* ç«¶åˆçŠ¶æ…‹ã‚’é˜²ããŸã‚ã€å…±æœ‰çŠ¶æ…‹ã‚’æœ€å°åŒ–
* `try...catch`ã‚’ä½¿ã£ã¦å®‰å…¨ã«ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†
* APIå‘¼ã³å‡ºã—ã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚„å†è©¦è¡Œã‚’è¨­å®š

```
// âœ… è‰¯ã„ä¾‹
async function fetchData(url) {
  try {
    const res = await fetch(url);
    if (!res.ok) throw new Error("Response not OK");
    return await res.json();
  } catch (err) {
    console.error("Fetch failed:", err);
    return null;
  }
}
```

### âš ï¸ è½ã¨ã—ç©´

* `.map(async)` ã®æˆ»ã‚Šå€¤ã‚’ `await` ã›ãšã«æ”¾ç½®
  â†’ Promise ãŒè§£æ±ºã•ã‚Œãªã„ã¾ã¾æ®‹ã‚‹

```
// âŒ æ‚ªã„ä¾‹
users.map(async user => await save(user)); // å¾…ãŸã‚Œã¦ãªã„

// âœ… è‰¯ã„ä¾‹
await Promise.all(users.map(user => save(user)));
```

---

## ğŸ§± 3. ã‚³ãƒ¼ãƒ‰è¨­è¨ˆãƒ»è²¬å‹™åˆ†é›¢ãƒ»å‘½å

### âœ… ãƒã‚¤ãƒ³ãƒˆ

* é–¢æ•°ã¯ã€Œ1ã¤ã®è²¬å‹™ã€ã«çµã‚‹ï¼ˆSRPï¼‰
* å‘½åã¯ã€Œä½•ã‚’ãƒ»ãªãœãƒ»ã©ã†ã™ã‚‹ã‹ã€ã‚’è¡¨ã™
* åŒã˜è²¬å‹™ã‚’è¤‡æ•°ç®‡æ‰€ã«æ›¸ã‹ãªã„ï¼ˆDRYåŸå‰‡ï¼‰
* ã‚³ãƒ¼ãƒ‰ã®æ„å›³ã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚ˆã‚Šå‘½åã§ä¼ãˆã‚‹

```
// âŒ æ‚ªã„ä¾‹
function handleData(data) {
  // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ä¿å­˜ãƒ»é€šçŸ¥ã‚’å…¨éƒ¨ã‚„ã£ã¦ã‚‹
}

// âœ… è‰¯ã„ä¾‹
function validateData(data) {}
function saveData(data) {}
function notifyUser(data) {}
```

### å‘½åä¾‹

| æ‚ªã„ä¾‹  | è‰¯ã„ä¾‹          |
| ---- | ------------ |
| tmp  | responseData |
| n    | userCount    |
| flag | isAuthorized |

---

## ğŸ”’ 4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨å…¥åŠ›æ¤œè¨¼

### âœ… ãƒã‚¤ãƒ³ãƒˆ

* å¤–éƒ¨å…¥åŠ›ã¯å¿…ãšã‚µãƒ‹ã‚¿ã‚¤ã‚º
* HTMLæŒ¿å…¥ã¯`textContent`ã‚’ä½¿ã†ï¼ˆ`innerHTML`ç¦æ­¢ï¼‰
* ç§˜å¯†æƒ…å ±ã¯ `.env` ã‚„Secret Managerã«ä¿å­˜
* Cookieã‚„LocalStorageã®æ‰±ã„ã«æ³¨æ„ï¼ˆXSSå¯¾ç­–ï¼‰

```
// âŒ æ‚ªã„ä¾‹
element.innerHTML = userInput;

// âœ… è‰¯ã„ä¾‹
element.textContent = userInput;
```

```
// âœ… .envã‹ã‚‰èª­ã¿è¾¼ã‚€
import "dotenv/config";
const apiKey = process.env.API_KEY;
```

---

## ğŸ’¥ 5. ã¹ã‹ã‚‰ãšé›†ï¼ˆå®Ÿå‹™ã®è½ã¨ã—ç©´ï¼‰

| ğŸ§± ã¹ã‹ã‚‰ãš                   | âš ï¸ å•é¡Œ       | âœ… å¯¾ç­–                              |
| ------------------------- | ----------- | --------------------------------- |
| å·¨å¤§ãªæ–‡å­—åˆ—ã‚’å¤‰æ•°ã§ä¿æŒã™ã‚‹ãª           | ãƒ’ãƒ¼ãƒ—åœ§è¿«ãƒ»GCé »ç™º  | ã‚¹ãƒˆãƒªãƒ¼ãƒ å‡¦ç†ãƒ»ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã«é€€é¿                 |
| JSON.stringify()ã§æ·±ã„ã‚³ãƒ”ãƒ¼ã™ã‚‹ãª | CPUè² è·ãƒ»ãƒ‡ãƒ¼ã‚¿æ¬ æ | structuredClone / cloneDeep       |
| awaitã‚’æ›¸ãå¿˜ã‚Œã‚‹ãª              | éåŒæœŸãŒæœªè§£æ±º     | ESLintãƒ«ãƒ¼ãƒ«å°å…¥ï¼ˆno-floating-promisesï¼‰ |
| console.logã‚’æ®‹ã™ãª           | æƒ…å ±æ¼æ´©ãƒ»é…å»¶     | loggerã«ç½®ãæ›ãˆ                       |
| ä¾‹å¤–ã‚’æ¡ã‚Šã¤ã¶ã™ãª                 | ãƒ‡ãƒãƒƒã‚°ä¸èƒ½      | catchå†…ã§å¿…ãšè¨˜éŒ²ãƒ»é€šçŸ¥                    |
| ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’ä¹±ç”¨ã™ã‚‹ãª             | ä¾å­˜é–¢ä¿‚ãŒå£Šã‚Œã‚‹    | é–¢æ•°ã‚¹ã‚³ãƒ¼ãƒ—ãƒ»DIã‚’ä½¿ã†                      |
| â€œã¨ã‚Šã‚ãˆãšå‹•ãâ€ã‚’æ”¾ç½®ã™ã‚‹ãª           | æŠ€è¡“çš„è² å‚µ       | TODOã‚’issueåŒ–ã—ã¦ç®¡ç†                   |

---

## ğŸ§­ 6. ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆâœ“ä»˜ãï¼‰

### ğŸ§© ãƒ¡ãƒ¢ãƒªãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

* [ ] ä¸è¦ãªé…åˆ—ã‚³ãƒ”ãƒ¼ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¤‡è£½ã‚’ã—ã¦ã„ãªã„ã‹
* [ ] å·¨å¤§ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªã«ä¿æŒã—ã¦ã„ãªã„ã‹
* [ ] GCã‚’é »ç™ºã•ã›ã‚‹çŸ­å‘½ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ã¦ã„ãªã„ã‹

### âš™ï¸ éåŒæœŸãƒ»ä¾‹å¤–

* [ ] ã™ã¹ã¦ã®Promiseã«awaitã¾ãŸã¯catchãŒã‚ã‚‹ã‹
* [ ] APIå‘¼ã³å‡ºã—ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚„ãƒªãƒˆãƒ©ã‚¤ãŒã‚ã‚‹ã‹
* [ ] éåŒæœŸå‡¦ç†ãŒç«¶åˆã—ã¦ã„ãªã„ã‹

### ğŸ§± è¨­è¨ˆãƒ»å‘½å

* [ ] é–¢æ•°ãŒå˜ä¸€è²¬å‹™ã«ãªã£ã¦ã„ã‚‹ã‹
* [ ] å‘½åãŒæ˜ç¢ºã§æ›–æ˜§ãªç•¥èªã‚’ä½¿ã£ã¦ã„ãªã„ã‹
* [ ] åŒã˜å‡¦ç†ãŒè¤‡æ•°ç®‡æ‰€ã«æ›¸ã‹ã‚Œã¦ã„ãªã„ã‹ï¼ˆDRYï¼‰

### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

* [ ] å¤–éƒ¨å…¥åŠ›ã‚’ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã—ã¦ã„ã‚‹ã‹
* [ ] ç§˜å¯†æƒ…å ±ã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ã¦ã„ãªã„ã‹
* [ ] innerHTMLã‚’é¿ã‘ã¦ã„ã‚‹ã‹

### ğŸš¨ ä¿å®ˆæ€§

* [ ] ã‚³ãƒ¡ãƒ³ãƒˆã§ã€Œãªãœã€æ›¸ã„ãŸã‹ã‚’èª¬æ˜ã—ã¦ã„ã‚‹ã‹
* [ ] ãƒ­ã‚°å‡ºåŠ›ãŒéå‰°ãƒ»ä¸è¶³ã—ã¦ã„ãªã„ã‹
* [ ] ä¾‹å¤–æ™‚ã®æŒ™å‹•ã‚’æƒ³å®šã—ã¦ã„ã‚‹ã‹

---

## âœ… ã¾ã¨ã‚

> ã‚³ãƒ¼ãƒ‰ã®ç›®çš„ã¯ã€Œå‹•ãã€ã“ã¨ã§ã¯ãªãã€
> **ã€Œå°†æ¥ã‚‚å£Šã‚Œãšã€å®‰å…¨ã«é€²åŒ–ã§ãã‚‹ã“ã¨ã€**ã€‚

---

### ğŸ“š é–¢é€£è³‡æ–™

* MDN Web Docs: [https://developer.mozilla.org/ja/](https://developer.mozilla.org/ja/)
* Effective JavaScriptï¼ˆDavid Hermanï¼‰
* JavaScriptæœ¬æ ¼å…¥é–€ï¼ˆå±±ç”°ç¥¥å¯›ï¼‰

